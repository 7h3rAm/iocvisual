<!DOCTYPE html><meta charset=utf-8><style>.node{cursor:pointer}.node circle{fill:#fff;stroke:#4682b4;stroke-width:3px}.node text{font:15px sans-serif}.link{fill:none;stroke:#ccc;stroke-width:1.5px}div#container{height:100%;width:100%;border:2px solid #000;overflow:scroll;}</style><body><script src=../../d3/d3.v3.min.js></script><script>function update(t){var r=tree.nodes(root).reverse(),n=tree.links(r);r.forEach(function(t){t.y=180*t.depth});var e=svg.selectAll("g.node").data(r,function(t){return t.id||(t.id=++i)}),a=e.enter().append("g").attr("class","node").attr("transform",function(r){return"translate("+t.y0+","+t.x0+")"}).on("click",click);a.append("circle").attr("r",1e-6).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}),a.append("text").attr("x",function(t){return t.children||t._children?-10:10}).attr("dy",".35em").attr("text-anchor",function(t){return t.children||t._children?"end":"start"}).text(function(t){return t.name}).style("fill-opacity",1e-6);var o=e.transition().duration(duration).attr("transform",function(t){return"translate("+t.y+","+t.x+")"});o.select("circle").attr("r",6).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}),o.select("text").style("fill-opacity",1);var l=e.exit().transition().duration(duration).attr("transform",function(r){return"translate("+t.y+","+t.x+")"}).remove();l.select("circle").attr("r",1e-6),l.select("text").style("fill-opacity",1e-6);var c=svg.selectAll("path.link").data(n,function(t){return t.target.id});c.enter().insert("path","g").attr("class","link").attr("d",function(r){var n={x:t.x0,y:t.y0};return diagonal({source:n,target:n})}),c.transition().duration(duration).attr("d",diagonal),c.exit().transition().duration(duration).attr("d",function(r){var n={x:t.x,y:t.y};return diagonal({source:n,target:n})}).remove(),r.forEach(function(t){t.x0=t.x,t.y0=t.y})}function click(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),update(t)}var margin={top:20,right:120,bottom:20,left:120},width=4e3-margin.right-margin.left,height=700-margin.top-margin.bottom,i=0,duration=750,root,tree=d3.layout.tree().size([height,width]),diagonal=d3.svg.diagonal().projection(function(t){return[t.y,t.x]}),container=d3.select("body").append("div").attr("id","container"),svg=container.append("svg").attr("width",width+margin.right+margin.left).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");d3.json("iocd3.json",function(t,r){function n(t){t.children&&(t._children=t.children,t._children.forEach(n),t.children=null)}if(t)throw t;(root=r).x0=height/2,root.y0=0,root.children.forEach(n),update(root)}),d3.select(self.frameElement).style("height","800px")</script>